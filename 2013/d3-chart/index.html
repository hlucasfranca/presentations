---
title: Exploring Reusability with d3.chart
date: 2013-07-16
---
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=1024" />
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<title>Exploring Reusability with d3.chart</title>
	<meta name="DC.created" content="2013-07-16" />

	<meta name="description" content="The concepts that drive our framework for d3.js" />
	<meta name="author" content="Mike Pennisi" />

	<link href="styles/impress.css" rel="stylesheet" />
	<link href="styles/prism.css" rel="stylesheet" />
	<link href="styles/main.css" rel="stylesheet" />
	<link href="styles/github-button.css" rel="stylesheet" />

	<link rel="shortcut icon" href="favicon.png" />
	<link rel="apple-touch-icon" href="apple-touch-icon.png" />
</head>
	<body class="impress-not-supported">

		<div class="fallback-message">
			<p>Your browser <b>doesn't support the features required</b> by impress.js, so you are presented with a simplified version of this presentation.</p>
			<p>For the best experience please use the latest <b>Chrome</b>, <b>Safari</b> or <b>Firefox</b> browser.</p>
		</div>

		<div id="impress">

<hgroup class="step" id="title">
	<h1>Exploring Reusability with d3.chart</h1>
</hgroup>

<section class="step" id="overview">
	<h2>Overview</h2>
	<ol>
		<li>d3.js</li>
		<li>Reusable Charts</li>
		<li>d3.chart</li>
		<li>The Future!</li>
	</ol>
</section>

<section class="step" id="about-mike">
	<h2>All About Mike</h2>
	<ul>
		<li>Developer at <a href="http://bocoup.com">Bocoup</a></li>
		<li>Member of <a href="http://misoproject.com/">the Miso Project</a></li>
		<li>Freaked out by sprouted potatoes</li>
	</ul>
</section>

<div class="step-group">

<section class="step" id="d3-title">
	<h1>d3.js</h1>
	<h2>Data-Driven Documents</h2>
</section>

<section class="step" data-scale="0.3" data-x="-400" data-y="140">
	<h2></h2>
	<blockquote>D3.js is a JavaScript library for manipulating documents based on data. D3 helps you bring data to life using HTML, SVG and CSS [...]</blockquote>
	<span class="quote-attribution"><a href="http://d3js.org/">d3js.org</a></span>
</section>

<section class="step" data-scale="0.3" data-y="140" id="d3-examples">
	<h2>Visualizations</h2>
	<ul>
		<li><a href="http://bl.ocks.org/mbostock/4060954"><img src="img/d3-example-stream.png" /></a></li>
		<li><a href="http://bl.ocks.org/mbostock/4062045"><img src="img/d3-example-force.png" /></a></li>
		<li><a href="http://bl.ocks.org/mbostock/1136236"><img src="img/d3-example-tadpoles.png" /></a></li>
		<li><a href="http://bl.ocks.org/mbostock/1353700"><img src="img/d3-example-gears.png" /></a></li>
	</ul>
</section>

<section class="step" data-scale="0.3" data-x="400" data-y="140" id="d3-example">
	<img src="img/bullet-chart.png" class="full-screen" />
	<span class="quote-attribution">
		Walkthrough of <a href="http://bl.ocks.org/mbostock/4061961">Bullet Chart</a>
	</span>
</section>

</div>

<section class="step">
	<h1>re&middot;us&acute;&middot;a&middot;ble charts</h1>
</section>

<section class="step">
	<h3>Defining "chart"</h3>
	<svg>
		<ellipse class="vis-series1" cx="50%" cy="50%" rx="50%" ry="50%" />
		<text x="10%" y="40%" class="vis-text">Visualizations</text>
		<ellipse class="vis-series3" cx="70%" cy="55%" rx="20%" ry="30%" />
		<text x="61%" y="58%" class="vis-text">Charts</text>
	</svg>
</section>

<section class="step">
	<h2>What does it mean to be "reusable"?</h2>
</section>

<section class="step" id="reusable-from-creator">
	<h3>Defining "reusable"</h3>
	<pre class="code"><code class="lang-javascript">
		function chart() {
			// generate chart here
		}
	</code></pre>
	<blockquote>A function; the standard unit of code reuse!</blockquote>
	<span class="quote-attribution">
		-- Mike Bostock, <a href="http://bost.ocks.org/mike/chart/">Towards Reusable Charts</a>
	</span>
</section>

<section class="step" id="reusable-from-community">
	<h3>Defining "reusable"</h3>
	<img src="img/reusable-search.png" />
	<p>
		ex:
		<a href="http://javacrypt.wordpress.com/2012/12/15/improvements-to-d3s-reusable-component-pattern/">
			Improvements in d3's Reusable Component Pattern
		</a>
	</p>
</section>

<section class="step" id="reusable-our-take">
	<h3>Defining "reusable"</h3>
	<h2>Our Take</h2>
</section>

<section class="step" id="reusable-repeatable">
	<h3>Defining "reusable"</h3>
	<h1>Repeatable</h1>
	<img src="img/repeatable.png" class="full-screen" />
</section>

<section class="step" id="reusable-modifiable">
	<h3>Defining "reusable"</h3>
	<h1>Modifiable</h1>
	<img src="img/modifiable.png" class="full-screen" />
</section>

<section class="step" id="reusable-configurable">
	<h3>Defining "reusable"</h3>
	<h1>Configurable</h1>
	<img src="img/configurable.png" class="full-screen" />
</section>

<section class="step" id="reusable-extensible">
	<h3>Defining "reusable"</h3>
	<h1>Extensible</h1>
	<img src="img/extensible.png" class="full-screen" />
</section>

<section class="step" id="reusable-composable">
	<h3>Defining "reusable"</h3>
	<h1>Composable</h1>
	<img src="img/composable.png" class="full-screen" />
</section>

<section class="step" id="d3-chart">
	<h1><img src="img/d3.chart.png" /></h1>
</section>

<section class="step" id="naming-is-difficult">
	<h1>Naming is Difficult</h1>
	<ul class="field">
		<li>Understanding Data Visualization: An Interpretive Dance</li><!--
		--><li>Open Web Kittens</li><!--
		--><li>d3.chart: I'm Just Going to Eat a Sandwhich</li><!--
		--><li>d3.chart: there will be free food and beer why are you even reading this?</li><!--
		--><li>d3.chart: I'm Frightened by the Tendrils that Grow Out of Old Potatoes</li><!--
		--><li>d3.chart: I've never told anyone, but i have a dark secret</li><!--
		--><li>d3.chart: If you stare are the word "number" long enough, it starts to lose all meaning</li><!--
		--><li>Reusable charts with d3.chart</li><!--
		--><li>d3.chart</li><!--
		--><li>"d3.chart: If you use nested "quotes" then things get "hard to read""</li><!--
		--><li>don't "question" my use of "quotes"</li><!--
		--><li>chart chart chart chart chart CHART chart</li><!--
		--><li>Building charts with d3.chart: A talk about charts</li><!--
		--><li>Charting New Territory</li><!--
		--><li>Charting your way thought reusable charts with d3.charts: a talk about charts (Warning: talk contains no charts)</li><!--
		--><li>An ALL AXIS Pass to d3.chart</li><!--
		--><li>I don't always make reusable charts, but when I do, I use d3.chart</li><!--
		--><li>d3.chart: we've always been at war with eastasia</li><!--
		--><li>Don't like government eavesdropping?! make charts with d3.chart</li><!--
		--><li>d3.chart: put THAT in your memory hole!</li><!--
		--><li>d3.chart: An Exploration of Alternative Titles for this Talk</li><!--
		--><li>d3.chart: Who Charted?</li>
	</ul>
</section>

<div class="step-group">

<section class="step" id="d3-chart-layer">
	<h1>Layer</h1>
	<h2>Connect Data to Elements</h2>
</section>

<section class="step" data-scale="0.3" data-x="-600" data-y="200" id="d3-chart-layer-pattern">
	<h2>d3.js pattern</h2>
	<pre class="code"><code class="lang-javascript">
		var bar = d3.select("svg g").selectAll("rect.bar")
			.data(data);

		bar.enter().append("rect")
			.classed("bar", true);
			.attr("height", function(d) { return d * 20; });
			.attr("width", 0)
			.transition()
				.duration(1000)
				.attr("width", 100);

		bar.transition()
			.duration(1000)
			.attr("x", function(d, i) { return i * 100; });

		bar.exit().transition().duration(1000)
			.attr("width", 0)
			.remove();
	</code></pre>
</section>

<section class="step" data-scale="0.3" data-x="-200" data-y="200" id="d3-chart-layer-setup">
	<h2>Setup</h2>
	<pre class="code"><code class="lang-javascript">
		var layer = d3.select("svg g").layer({
			dataBind: function(data) {
				return this.selectAll("rect.bar").data(data);
			},
			insert: function() {
				return this.append("rect").classed("bar", true);
			},
			events: {
				enter: function() {
					this.attr("height", function(d) { return d * 20; })
						.attr("width", 0);
				},
				"enter:transition": function() {
					this.duration(1000).attr("width", 100);
				},
				"update:transition": function() {
					this.duration(1000)
						.attr("x", function(d, i) { return i * 100; });
				},
				"exit:transition": function() {
					this.duration(1000)
						.attr("width", 0)
						.remove();
				}
			}
		});
	</code></pre>
</section>

<section class="step" data-scale="0.3" data-x="200" data-y="200" id="d3-chart-layer-rendering">
	<h2>Rendering</h2>
	<pre class="code"><code class="lang-javascript">
		layer.draw(data);
	</code></pre>
</section>

<section class="step" data-scale="0.3" data-x="600" data-y="200" id="d3-chart-layer-configuration">
	<h2>Configuration</h2>
	<pre class="code"><code class="lang-javascript">
		layer.on("enter", function() {
			this.attr("width", 100)
				.style("opacity", 0);
		});
		layer.on("enter:transition", function() {
			this.style("opacity", 1);
		});
		layer.on("exit:transition", function() {
			this.attr("width", 100)
				.style("opacity", 0);
		});
	</code></pre>
</section>

</div>

<section class="step" id="d3-chart-chart">
	<h1>Chart</h1>
	<h2>Manage Layers, Extend, and Compose</h2>
</section>

<section class="step">
	<h2>Manage Layers</h2>
	<pre class="code"><code class="lang-javascript">
		d3.chart("Homme", {
			initialize: function() {
				this.layer("barLayer", this.base.append("g"), {
					// layer options: insert, databind, events
				});
			}
		});
	</code></pre>
	<pre class="code"><code class="lang-javascript">
		var myChart = d3.select("svg").chart("Joshua");
		myChart.draw(data);
	</code></pre>
</section>

<section class="step">
	<h2>Transform Input Data</h2>
	<pre class="code"><code class="lang-javascript">
		d3.chart("Jones", {
			transform: function(data) {
				return d3.layout.chord()
					.padding(.05)
					.sortSubgroups(d3.descending)
					.matrix(data);
			}
		});
	</code></pre>
</section>

<section class="step">
	<h2>Extend</h2>
	<pre class="code"><code class="lang-javascript">
		d3.chart("Drummer", {
			// chart options: initialize, transform, etc...
		});
	</code></pre>
	<pre class="code"><code class="lang-javascript">
		d3.chart("Drummer").extend("Grohl", {
			// chart options: initialize, transform, etc...
		});
	</code></pre>
</section>

<section class="step">
	<h2>Compose</h2>
	<pre class="code"><code class="lang-javascript">
	d3.chart("TCV", {
		initialize: function() {
			this.mixin("Homme", this.base.append("g"), {
				// chart options: initialize, transform, etc...
			});
			this.mixin("Grohl", this.base.append("g"), {
				// chart options: initialize, transform, etc...
			});
		}
	});
	</code></pre>
</section>

<section class="step">
	<h2>Listen</h2>
	<pre class="code"><code class="lang-javascript">
		d3.chart("Jones", {
			initialize: function() {
				var chart = this;
				// ...
				barLayer.on("enter", function() {
					this.on("mouseover", function() {
						chart.trigger("brush:bar", arguments);
					});
				});
		});
	</code></pre>
</section>

<section class="step">
	<h2>Map Input Data</h2>
	<pre class="code"><code class="lang-javascript">
		d3.chart("Billy", {
			dataAttrs: ["value"],
			initialize: function() {
				// ...
				this.barLayer.on("enter", function() {
					this.attr("height", function(d) {
						return d.value;
					});
				});
			}
		});
	</code></pre>
	<pre class="code"><code class="lang-javascript">
		var myChart = d3.select("svg").chart("Billy", {
			dataMapping: {
				value: function() {
					return this.VALUE;
				}
			}
		});
		myChart.draw([ { VALUE: 23 } ]);
	</code></pre>
</section>

<section class="step" id="d3-chart-example">
	<img src="img/bullet-chart.png" class="full-screen" />
	<span class="quote-attribution">
		The <a href="http://bl.ocks.org/jugglinmike/6004102">Bullet Chart, revisted with d3.chart</a>
	</span>
</section>

<div class="step-group">

<section class="step" id="the-future">
	<img src="img/future-is-cool.jpg" class="full-screen" />
</section>

<section class="step" data-z="1200" data-x="-1000" data-y="-200" id="future-bower-integration">
	<a href="http://bower.io"><img src="img/bower-logo.png" /></a>
</section>

<section class="step" data-z="1200" data-y="-400" id="future-transitions">
	<pre class="code"><code class="lang-javascript">
		this.transition()
				.transition()
					.transition().text("Sharing");
	</code></pre>
</section>

<section class="step" data-z="1200" data-x="1000" data-y="-200" id="future-layer-types">
	<h1>Improved <code class="inline">&lt;path&gt;</code> and <code class="inline">d3.layout</code> support</h1>
</section>

<section class="step" data-z="1200" data-y="400" id="future-your-ideas">
	<h1>Your ideas!</h1>
	<a href="https://github.com/misoproject/d3.chart/issues" target="_new">
		<button class="github-button">New Issue</button>
	</a>
</section>

</div>

<section class="step" id="resources">
	<h2>Resources</h2>
	<ul>
		<li>
			d3.js
			<ul>
				<li><a href="http://d3js.com">d3.js Homepage</a></li>
				<li><a href="https://groups.google.com/forum/#!forum/d3-js">d3.js Mailing list</a></li>
				<li><a href="http://bost.ocks.org/mike/chart/">Towards Reusable Charts</a>
				by <a href="http://bost.ocks.org/mike/">Mike Bostock</a></li>
				<li><a href="http://weblog.bocoup.com/reusability-with-d3/">Exploring Reusability with d3.js</a>
				by <a href="http://mikepennisi.com">Mike Pennisi</a></li>
			</ul>
		</li>
		<li>
			d3.chart
			<ul>
				<li><a href="http://misoproject.com/d3-chart">d3.chart Homepage</a></li>
				<li><a href="https://www.youtube.com/watch?v=TYgSc_S0lCw">The ABCs of Data Visualizations</a>
				(video) by <a href="http://ireneros.com/">Irene Ros</a></li>
				<li><a href="http://weblog.bocoup.com/introducing-d3-chart/">Introducing d3.chart</a>
				by <a href="http://ireneros.com/">Irene Ros</a></li>
				<li><a href="https://www.youtube.com/watch?v=pc3KWhu6o6M">Bocoup On Air - D3 & D3.chart</a> (video)</li>
			</ul>
		</li>
		<li>
			Miscellany
			<ul>
				<li><a href="http://bower.io">Bower - A package manager for the web</a></li>
			</ul>
		</li>
	</ul>
</section>

<section class="step" id="attribution">
	<h2>Attribution</h2>
	<ul>
		<li><a href="http://www.flickr.com/photos/8395214@N06/5624862217/in/photolist-9z3Tz4-8VFCPF-8VJFGd-9prWGs-d9UtDK-dEgpFN-7Sm382-7Spjrj-7Sm3mV-7Sm3w4-7SpXyy-7SmFEi-d9UsvC-7HoeG1-9r72TP-efvLch-9yYj54-7HjjLT-7Hjjkk-9prWkm-9poUAM-9A2aTj-9zY4gi-dDVyXE-dDVsG7-dDQjjK-dDQ89g-dDVw5A-dDQiQp-dDVtL3-dDVAnm-dDQ7ha-dDQ9k2-dDVitu-dDPXoV-dDVwwf-dDQ8qV-dDVku3-dDVDSU-dDVDJm-dDVutQ-dDVFks-dDPWhn-dDVDB7-dDVgcW-dDVxYS-dDPSik-dDQdRD-dDVpr7-dDPTVM-dDVpjb">"The Future is Cool" t-shirt photograph</a>
		by <a href="https://secure.flickr.com/photos/rj3/">"Cowboy" Ben Alman</a></li>
		<li><a href="http://thenounproject.com/noun/notepad/#icon-No8155">Notepad icon</a>
		by <a href="http://thenounproject.com/lemonliu">Lemon Liu</a></li>
	</ul>
</section>

		</div>

		<div class="hint">
			<p>Use a spacebar or arrow keys to navigate</p>
		</div>
		<script>
		if ("ontouchstart" in document.documentElement) {
			document.querySelector(".hint").innerHTML = "<p>Tap on the left or right to navigate</p>";
		}
		</script>

		<script src="scripts/lib/impress.js"></script>
		<script src="scripts/lib/prism.js"></script>
		<script src="scripts/app.js"></script>
		<script>

	</body>
</html>
